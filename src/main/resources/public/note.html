<div class="container">
    <div class="row">
        <h2>Note Details</h2>
        <br/>
    </div>
    <div class="row">
        <div class="form-group">
            <div class="col-sm-1" style="padding-top: 30px;">
                <label class="control-label" for="noteDate">Date</label>
            </div>
            <div class="col-sm-2" style="padding-top: 30px;">
                <input type="date" class="form-control" id="noteDate" ng-model="note.date">
            </div>
            <div class="col-sm-offset-1 col-sm-1" style="padding-top: 30px;">
                <label class="control-label" for="noteDate">Pain: </label>
            </div>
            <div class="col-sm-5" style="border: 1px solid #ccc; padding-bottom: 20px;">
                <div class="col-sm-6">
                    <label class="control-label">Area</label>
                    <input type="text" class="form-control" id="painArea" ng-model="note.pain.area" list="painAreaList">
                    <datalist id="painAreaList">
                        <option ng-repeat="painArea in availablePainAreas" value="{{painArea}}">
                    </datalist>
                </div>
                <div class="col-sm-3">
                    <label class="control-label">Scale</label>
                    <input type="number" min="0" max="10" class="form-control" id="painScale" ng-model="note.pain.scale">
                </div>
                <div class="col-sm-3">
                    <label class="control-label">Inc/Dec</label>
                    <a href="" data-toggle="tooltip" data-placement="right" title="Percentage of pain increased or decreased since initial visit.">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </a>
                    <input type="text" class="form-control" id="painChange" value="{{painChange()}}%" readOnly>
                </div>
            </div>
        </div>
        <br/><br/><br/>
    </div>
    <div class="row">
        <div class="col-sm-12"><h4>Patient was seen for following skilled therapy</h4></div>
    </div>
    <div class="row">
        <div class="col-sm-1">
            <label class="control-label">TX Area</label>
            <input type="text" class="form-control" id="txArea" list="txAreaList" ng-model="selectedTxArea">
            <datalist id="txAreaList" ng-model="txArea">
                <option ng-repeat="txArea in availableTxAreas" ng-value="txArea">
            </datalist>
        </div>
    </div>
    <br/>

    <div class="row">
        <div class="col-sm-1">
            <label class="control-label">Modalities: </label>
        </div>
        <div class="col-sm-11">
                <span ng-repeat="m in availableModalities.slice(0,8)">
                <button type="submit" class="btn btn-default"
                        style="width:100px" ng-click="saveModality(m)">{{m.name}}
                </button></span>
        </div>
    </div>
    <br/>

    <div class="row">
        <div class="col-sm-1">
            <label class="control-label">Procedures: </label>
        </div>
        <div class="col-sm-11">
                <span ng-repeat="m in availableModalities.slice(8,15)">
                <button type="submit" class="btn btn-default"
                        style="width:100px" ng-click="saveModality(m)">{{m.name}}
                </button></span>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-1">
            <label class="control-label"></label>
        </div>
        <div class="col-sm-11">
                <span ng-repeat="m in availableModalities.slice(15,23)">
                <button type="submit" class="btn btn-default"
                        style="width:100px" ng-click="saveModality(m)">{{m.name}}
                </button></span>
        </div>
    </div>

    <div ng-repeat="txArea in note.txAreas track by $index">
        <div class="row">
            <hr width="80%;" style="padding-left:30%">
        </div>
        <label class="control-label">Treatment Area: </label><span>{{txArea.name}}</span>
        <div class="row">
            <div class="col-sm-1">
                <label class="control-label">Exercise</label>
            </div>
            <div class="col-sm-1">
                <label class="control-label">Minutes</label>
            </div>
            <div class="col-sm-1">
                <label class="control-label">Unit(s)</label>
            </div>
            <div class="col-sm-8">
                <label class="control-label">Comments</label>
            </div>
        </div>
        <div class="row" ng-repeat="modality in txArea.modalities track by $index">
            <div class="col-sm-1">
                <label class="control-label">{{modality.name}}</label>
            </div>
            <div class="col-sm-1">
                <input type="number" class="form-control" id="number" min="0" max="98" ng-model="modality.time" ng-change="updateUnits(modality)">
            </div>
            <div class="col-sm-1">
                <input type="number" class="form-control" id="units" ng-value="getUnits(modality)" readonly>
            </div>
            <div class="col-sm-8">
                <input class="form-control" type="text" ng-model="modality.comments" list="commentsList">
                <datalist id="commentsList">
                    <option ng-repeat="comment in availableComments" value="{{comment}}">
                </datalist>
            </div>
            <br/><br/>
        </div>
    </div>
    <br/>
    <div class="row">
        <div class="col-sm-offset-9 col-sm-1">
            <button type="submit" class="btn btn-default" ng-click="saveNote()">Save</button>
        </div>
    </div>
</div>